<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 纯css做一个摇头晃脑的长脸黄毛程序员 · Miya's Note</title><meta name="description" content="纯css做一个摇头晃脑的长脸黄毛程序员 - Miya Lee"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Miya's Note"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="https://github.com/miyalee" target="_blank" class="nav-list-link">GIT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">纯css做一个摇头晃脑的长脸黄毛程序员</h1><div class="post-info">Feb 15, 2017</div><div class="post-content"><p>好久不见不造大家情人节狗粮吃的开心吗～最近关注css动画比较多，那天再codepen上看到一些不错的小作品，好可爱的<img src="/images/emoticon/57.gif" alt="水灵灵眼!" style="display:inline; margin:0;">，于是就决定自己也要画一个！对css动画不是很熟练就挑了个看起来比较好画的！<a href="http://codepen.io/aakashrodrigues/pen/Gfhjw" target="_blank" rel="noopener">链接在此</a><br><a id="more"></a><br>准备开始敲之前先分析了一下他的结构，主要分四部分：</p>
<ul>
<li>背景</li>
<li>身体</li>
<li>摇动的头</li>
<li>飘动的音符</li>
</ul>
<p>首先要把元素出现的位置定为在页面正中间，给body，html<code>width</code>,<code>height</code>都设置为<code>100%</code>填满页面，<code>margin: 0</code>不留边隙，然后<code>diplay： table</code>，<code>text-aligin： center</code>，这样再给子级div设置<code>display: table-cell</code>,<code>vertical-align: middle</code>大家都像table一样显示咯，子级div和它里面的内容都能垂直居中啦</p>
<h4 id="背景和身体"><a href="#背景和身体" class="headerlink" title="背景和身体"></a>背景和身体</h4><p>背景是一个灰蓝色的园，两边各有一道光影，仔细看的话会发现身体是在光影那两个层中间，这也符合光的原理嘛～</p>
<p>所以其实身体和背景其实是一起画的。<br>背景很简单，一个带宽高的div，给<code>border-radius： 50%</code>即可。两道光分别用before和after伪类来制作再合适不过，同样矩形div，调整出一个合适的倾斜角度，只留一点在背景圆内，背景圆来个<code>overflow: hidden</code>就可以了。慢工出细活，调整大小和角度是需要很大的耐心的。</p>
<p>哦还有位置，给背景圆相对定位，里面的内容绝对定位。调出合适的<code>top，left</code>等的值。这个也是要慢慢调的，表急。<br><img src="/images/background-cirle.png" alt="background-cirle"></p>
<p>然后就是body了，body也是个圆角矩形，上半部分在圆内，body里还有三个span放单词：<br><img src="/images/body.png" alt="body"><br><code>overflow: hidden</code>起了大作用哇～<br><img src="/images/body-hidden.png" alt="body-hidden"></p>
<h4 id="头"><a href="#头" class="headerlink" title="头"></a>头</h4><p>先不管它们的动画，先将形体展示出来。这个头比较复杂，我们慢慢切割<img src="/images/emoticon/81.gif" alt="捅刀!" style="display:inline; margin:0;">。</p>
<p>仔细观察了一番，最困扰的就是应该就是鬓角了，一开始我认为头发是一个整体，耳朵和鬓角是一个整体，脸是一个整体。可是这样切完我发现不对啊，脸明显多出来一圈，不可能把这一圈单独画吧。沿着脸分我才发现，脸上是两片的！</p>
<p>怎么感觉有点恐怖。。。也就是说脸是两大部分的，因为颜色一样，所以可以营造出一种一块的感觉。按层分的话，应该先是然后是大脸，然后上面又盖了一层比脸小一圈的小半圆用来放眼睛眉毛，小脸和大脸的差值就是鬓角的出现位置。这也能解释额头那一撮毛是怎么来的了</p>
<p>只是这样说肯定还是迷迷糊糊的，上图：<br><img src="/images/face.png" alt="face"><br>因为后面要做出摇头的动作，所以head这个div要包含其中所以元素，并且不能被背景<code>overflow：hidden</code>这个遮住。所以头单独拿出来用absolute居中定位到body的上面。</p>
<p>头发可以做高一点,出了头顶。最上面那撮也是圆角矩形，只不过只有右边的角是圆的，小脸上面那撮也是一样的道理，耳朵也是。这些把位置调好就ok,充分利用<code>left: 0</code>,<code>top: 0</code>,<code>bottom: 0</code>,<code>right: 0</code>等方便定位。</p>
<p>其他眼睛眉毛都好画，利用好圆角矩形和伪类即可。注意如果将眼睛眉毛作为一个整体的画，一定用眼下方的阴影做父级元素，虽然感觉很非人类，但是如果不这样的话，后面眼睛和眉毛的动画就会互相影响。</p>
<p>脸上的阴影是一个半透明层定位在左半脸，鼻子其实是这块阴影上的一块颜色为肤色的div<br><img src="/images/head.png" alt="head"></p>
<h4 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h4><p>字符不需要画，有这种字体符号，简单调整下位置，一个在顶部一个在半中央。这个的复杂部分是在后面动画的部分<br><img src="/images/static-person.png" alt="static-person"></p>
<h4 id="动画-摇头"><a href="#动画-摇头" class="headerlink" title="动画 摇头"></a>动画 摇头</h4><p>大概是我对动画不太熟悉，感觉这里面每一个动画都很不简单，不是简单伸缩移动一下就可以。</p>
<p>在这个实验里，使动画灵动起来的除了使用了不同动画函数，就是这个<code>alternate</code>属性，它是animation的一个属性，表示动画会反方向运动，配合<code>infinite</code>持续运动这个属性，能够省略很多动画的代码。</p>
<p>比如一个物体向先左运行，在向右运行，加上反方向属性它就会在向左向右以后再向右向左，最终营造出一种左左右右的感觉。就像这个头一样，动画里只需向左再向右再回到原点即可<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> head-shake &#123;</span><br><span class="line">    0% &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg); &#125;</span><br><span class="line">    33% &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(5deg); &#125;</span><br><span class="line">    66% &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-5deg); &#125;</span><br><span class="line">    100% &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里还是一个重要的属性，一开始做好这个动画是这样的：<br><img src="/images/person_draw.gif" alt="head-shake"><br>怎么感觉我这个人头摇的这么二逼呢<img src="/images/emoticon/64.gif" alt="摸下巴" style="display:inline; margin:0;"><br>仔细分析了下差别，发现人家的头是像不倒翁一样的摇，下巴是不动的。。。这是啥黑科技，一查，css还真有这属性<code>transform-origin</code>可以设置类似重心的位置，设置成bottom就正常了！学习了</p>
<h4 id="动画-挑眉"><a href="#动画-挑眉" class="headerlink" title="动画 挑眉"></a>动画 挑眉</h4><p>这个动作的重点在于它是几秒挑一次眉，挑眉的过程比等待的过程短很多，一开始我想用delay，但发现delay只能在第一次挑眉之前等待。</p>
<p>研究了一下发现其实动作并没有被推迟什么的，只是在动画中大部分时间让它处于静止，结合<code>alternate</code>看上去就像停了会才动了<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> eyebrow-shake &#123;</span><br><span class="line">    0% &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(0) <span class="built_in">rotate</span>(15deg); &#125;</span><br><span class="line">    80% &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(0) <span class="built_in">rotate</span>(15deg); &#125;</span><br><span class="line">    100% &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-10px) <span class="built_in">rotate</span>(15deg); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>眉毛还是歪的</p>
<h4 id="动画-眨眼"><a href="#动画-眨眼" class="headerlink" title="动画 眨眼"></a>动画 眨眼</h4><p>知道了挑眉，那么眨眼也是一样了，向Y轴方向缩小到没有，看起来就像闭上了眼<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> eye-blink &#123;</span><br><span class="line">    0% &#123; <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(1); &#125;</span><br><span class="line">    80% &#123; <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(1); &#125;</span><br><span class="line">    100% &#123; <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(0); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="动画-音符飘动"><a href="#动画-音符飘动" class="headerlink" title="动画 音符飘动"></a>动画 音符飘动</h4><p>两个音符用的同一个动画，右边比左边推迟2s运动。都是先想左，再向右上，再左上，顺便倾斜。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> music-motion &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    40% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-30px) <span class="built_in">rotate</span>(15deg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    80% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(0) <span class="built_in">translateY</span>(-150px) <span class="built_in">rotate</span>(-15deg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-30px) <span class="built_in">translateY</span>(-200px) <span class="built_in">rotate</span>(15deg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>选哪种动画也很重要，ease和ease-in效果就差很多，linear和ease也大不相同，这方面总感觉很难言传，只能考练习得到那种一眼看穿的能力。</p>
<p><a href="https://jsfiddle.net/miyalee/nf867ssp/" target="_blank" rel="noopener">最终效果</a>，还原度还行吧，诶嘿嘿</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/03/28/blog2017-03-28/" class="prev">上一篇</a><a href="/2017/02/06/blog2017-02-06/" class="next">下一篇</a></div><div data-thread-key="2017/02/15/blog2017-02-15/" data-title="纯css做一个摇头晃脑的长脸黄毛程序员" data-url="http://yoursite.com/2017/02/15/blog2017-02-15/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"miyalee"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 - 2017 <a href="http://yoursite.com">Miya Lee</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>